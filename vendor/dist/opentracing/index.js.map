{"version":3,"file":"opentracing/index.js","sources":["webpack:///./opentracing/lib/binary_carrier.js","webpack:///./opentracing/lib/constants.js","webpack:///./opentracing/lib/ext/tags.js","webpack:///./opentracing/lib/functions.js","webpack:///./opentracing/lib/global_tracer.js","webpack:///./opentracing/lib/index.js","webpack:///./opentracing/lib/mock_tracer/index.js","webpack:///./opentracing/lib/mock_tracer/mock_context.js","webpack:///./opentracing/lib/mock_tracer/mock_report.js","webpack:///./opentracing/lib/mock_tracer/mock_span.js","webpack:///./opentracing/lib/mock_tracer/mock_tracer.js","webpack:///./opentracing/lib/noop.js","webpack:///./opentracing/lib/reference.js","webpack:///./opentracing/lib/span.js","webpack:///./opentracing/lib/span_context.js","webpack:///./opentracing/lib/tracer.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Convenience class to use as a binary carrier.\n *\n * Any valid Object with a field named `buffer` may be used as a binary carrier;\n * this class is only one such type of object that can be used.\n */\nvar BinaryCarrier = /** @class */ (function () {\n    function BinaryCarrier(buffer) {\n        this.buffer = buffer;\n    }\n    return BinaryCarrier;\n}());\nexports.default = BinaryCarrier;\n//# sourceMappingURL=binary_carrier.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * The FORMAT_BINARY format represents SpanContexts in an opaque binary\n * carrier.\n *\n * Tracer.inject() will set the buffer field to an Array-like (Array,\n * ArrayBuffer, or TypedBuffer) object containing the injected binary data.\n * Any valid Object can be used as long as the buffer field of the object\n * can be set.\n *\n * Tracer.extract() will look for `carrier.buffer`, and that field is\n * expected to be an Array-like object (Array, ArrayBuffer, or\n * TypedBuffer).\n */\nexports.FORMAT_BINARY = 'binary';\n/**\n * The FORMAT_TEXT_MAP format represents SpanContexts using a\n * string->string map (backed by a Javascript Object) as a carrier.\n *\n * NOTE: Unlike FORMAT_HTTP_HEADERS, FORMAT_TEXT_MAP places no restrictions\n * on the characters used in either the keys or the values of the map\n * entries.\n *\n * The FORMAT_TEXT_MAP carrier map may contain unrelated data (e.g.,\n * arbitrary gRPC metadata); as such, the Tracer implementation should use\n * a prefix or other convention to distinguish Tracer-specific key:value\n * pairs.\n */\nexports.FORMAT_TEXT_MAP = 'text_map';\n/**\n * The FORMAT_HTTP_HEADERS format represents SpanContexts using a\n * character-restricted string->string map (backed by a Javascript Object)\n * as a carrier.\n *\n * Keys and values in the FORMAT_HTTP_HEADERS carrier must be suitable for\n * use as HTTP headers (without modification or further escaping). That is,\n * the keys have a greatly restricted character set, casing for the keys\n * may not be preserved by various intermediaries, and the values should be\n * URL-escaped.\n *\n * The FORMAT_HTTP_HEADERS carrier map may contain unrelated data (e.g.,\n * arbitrary HTTP headers); as such, the Tracer implementation should use a\n * prefix or other convention to distinguish Tracer-specific key:value\n * pairs.\n */\nexports.FORMAT_HTTP_HEADERS = 'http_headers';\n/**\n * A Span may be the \"child of\" a parent Span. In a “child of” reference,\n * the parent Span depends on the child Span in some capacity.\n *\n * See more about reference types at https://github.com/opentracing/specification\n */\nexports.REFERENCE_CHILD_OF = 'child_of';\n/**\n * Some parent Spans do not depend in any way on the result of their child\n * Spans. In these cases, we say merely that the child Span “follows from”\n * the parent Span in a causal sense.\n *\n * See more about reference types at https://github.com/opentracing/specification\n */\nexports.REFERENCE_FOLLOWS_FROM = 'follows_from';\n//# sourceMappingURL=constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** SPAN_KIND hints at relationship between spans, e.g. client/server */\nexports.SPAN_KIND = 'span.kind';\n/** Marks a span representing the client-side of an RPC or other remote call */\nexports.SPAN_KIND_RPC_CLIENT = 'client';\n/** Marks a span representing the server-side of an RPC or other remote call */\nexports.SPAN_KIND_RPC_SERVER = 'server';\n/** Marks a span representing the producing-side within a messaging system or other remote call */\nexports.SPAN_KIND_MESSAGING_PRODUCER = 'producer';\n/** Marks a span representing the consuming-side within a messaging system or other remote call */\nexports.SPAN_KIND_MESSAGING_CONSUMER = 'consumer';\n/**\n * ERROR (boolean) true if and only if the application considers the operation\n * represented by the Span to have failed\n */\nexports.ERROR = 'error';\n/**\n * COMPONENT (string) ia s low-cardinality identifier of the module, library,\n * or package that is generating a span.\n */\nexports.COMPONENT = 'component';\n/**\n * SAMPLING_PRIORITY (number) determines the priority of sampling this Span.\n * If greater than 0, a hint to the Tracer to do its best to capture the trace.\n * If 0, a hint to the trace to not-capture the trace. If absent, the Tracer\n * should use its default sampling mechanism.\n */\nexports.SAMPLING_PRIORITY = 'sampling.priority';\n// ---------------------------------------------------------------------------\n// PEER_* tags can be emitted by either client-side of server-side to describe\n// the other side/service in a peer-to-peer communications, like an RPC call.\n// ---------------------------------------------------------------------------\n/**\n * PEER_SERVICE (string) Remote service name (for some unspecified\n * definition of \"service\"). E.g., \"elasticsearch\", \"a_custom_microservice\", \"memcache\"\n */\nexports.PEER_SERVICE = 'peer.service';\n/** PEER_HOSTNAME (string) Remote hostname. E.g., \"opentracing.io\", \"internal.dns.name\" */\nexports.PEER_HOSTNAME = 'peer.hostname';\n/**\n * PEER_ADDRESS (string) Remote \"address\", suitable for use in a\n * networking client library. This may be a \"ip:port\", a bare\n * \"hostname\", a FQDN, or even a JDBC substring like \"mysql://prod-db:3306\"\n */\nexports.PEER_ADDRESS = 'peer.address';\n/**\n * PEER_HOST_IPV4 (number) Remote IPv4 address as a .-separated tuple.\n * E.g., \"127.0.0.1\"\n */\nexports.PEER_HOST_IPV4 = 'peer.ipv4';\n// PEER_HOST_IPV6 (string) Remote IPv6 address as a string of\n// colon-separated 4-char hex tuples. E.g., \"2001:0db8:85a3:0000:0000:8a2e:0370:7334\"\nexports.PEER_HOST_IPV6 = 'peer.ipv6';\n// PEER_PORT (number) Remote port. E.g., 80\nexports.PEER_PORT = 'peer.port';\n// ---------------------------------------------------------------------------\n// HTTP tags\n// ---------------------------------------------------------------------------\n/**\n * HTTP_URL (string) URL of the request being handled in this segment of the\n * trace, in standard URI format. E.g., \"https://domain.net/path/to?resource=here\"\n */\nexports.HTTP_URL = 'http.url';\n/**\n * HTTP_METHOD (string) HTTP method of the request for the associated Span. E.g.,\n * \"GET\", \"POST\"\n */\nexports.HTTP_METHOD = 'http.method';\n/**\n * HTTP_STATUS_CODE (number) HTTP response status code for the associated Span.\n * E.g., 200, 503, 404\n */\nexports.HTTP_STATUS_CODE = 'http.status_code';\n// -------------------------------------------------------------------------\n// Messaging tags\n// -------------------------------------------------------------------------\n/**\n * MESSAGE_BUS_DESTINATION (string) An address at which messages can be exchanged.\n * E.g. A Kafka record has an associated \"topic name\" that can be extracted\n * by the instrumented producer or consumer and stored using this tag.\n */\nexports.MESSAGE_BUS_DESTINATION = 'message_bus.destination';\n// --------------------------------------------------------------------------\n// Database tags\n// --------------------------------------------------------------------------\n/**\n * DB_INSTANCE (string) Database instance name. E.g., In java, if the\n * jdbc.url=\"jdbc:mysql://127.0.0.1:3306/customers\", the instance name is \"customers\".\n */\nexports.DB_INSTANCE = 'db.instance';\n/**\n * DB_STATEMENT (string) A database statement for the given database type.\n * E.g., for db.type=\"SQL\", \"SELECT * FROM wuser_table\";\n * for db.type=\"redis\", \"SET mykey 'WuValue'\".\n */\nexports.DB_STATEMENT = 'db.statement';\n/**\n * DB_TYPE (string) Database type. For any SQL database, \"sql\". For others,\n * the lower-case database category, e.g. \"cassandra\", \"hbase\", or \"redis\".\n */\nexports.DB_TYPE = 'db.type';\n/**\n * DB_USER (string) Username for accessing database. E.g., \"readonly_user\"\n * or \"reporting_user\"\n */\nexports.DB_USER = 'db.user';\n//# sourceMappingURL=tags.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Constants = require(\"./constants\");\nvar reference_1 = require(\"./reference\");\nvar span_1 = require(\"./span\");\n/**\n * Return a new REFERENCE_CHILD_OF reference.\n *\n * @param {SpanContext} spanContext - the parent SpanContext instance to\n *        reference.\n * @return a REFERENCE_CHILD_OF reference pointing to `spanContext`\n */\nfunction childOf(spanContext) {\n    // Allow the user to pass a Span instead of a SpanContext\n    if (spanContext instanceof span_1.default) {\n        spanContext = spanContext.context();\n    }\n    return new reference_1.default(Constants.REFERENCE_CHILD_OF, spanContext);\n}\nexports.childOf = childOf;\n/**\n * Return a new REFERENCE_FOLLOWS_FROM reference.\n *\n * @param {SpanContext} spanContext - the parent SpanContext instance to\n *        reference.\n * @return a REFERENCE_FOLLOWS_FROM reference pointing to `spanContext`\n */\nfunction followsFrom(spanContext) {\n    // Allow the user to pass a Span instead of a SpanContext\n    if (spanContext instanceof span_1.default) {\n        spanContext = spanContext.context();\n    }\n    return new reference_1.default(Constants.REFERENCE_FOLLOWS_FROM, spanContext);\n}\nexports.followsFrom = followsFrom;\n//# sourceMappingURL=functions.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tracer_1 = require(\"./tracer\");\nvar noopTracer = new tracer_1.default();\nvar _globalTracer = null;\n// Allows direct importing/requiring of the global tracer:\n//\n// let globalTracer = require('opentracing/global');\n//      OR\n// import globalTracer from 'opentracing/global';\n//\n// Acts a bridge to the global tracer that can be safely called before the\n// global tracer is initialized. The purpose of the delegation is to avoid the\n// sometimes nearly intractible initialization order problems that can arise in\n// applications with a complex set of dependencies, while also avoiding the\n// case where\nvar GlobalTracerDelegate = /** @class */ (function (_super) {\n    __extends(GlobalTracerDelegate, _super);\n    function GlobalTracerDelegate() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GlobalTracerDelegate.prototype.startSpan = function () {\n        var tracer = _globalTracer || noopTracer;\n        return tracer.startSpan.apply(tracer, arguments);\n    };\n    GlobalTracerDelegate.prototype.inject = function () {\n        var tracer = _globalTracer || noopTracer;\n        return tracer.inject.apply(tracer, arguments);\n    };\n    GlobalTracerDelegate.prototype.extract = function () {\n        var tracer = _globalTracer || noopTracer;\n        return tracer.extract.apply(tracer, arguments);\n    };\n    return GlobalTracerDelegate;\n}(tracer_1.default));\nvar globalTracerDelegate = new GlobalTracerDelegate();\n/**\n * Set the global Tracer.\n *\n * The behavior is undefined if this function is called more than once.\n *\n * @param {Tracer} tracer - the Tracer implementation\n */\nfunction initGlobalTracer(tracer) {\n    _globalTracer = tracer;\n}\nexports.initGlobalTracer = initGlobalTracer;\n/**\n * Returns the global tracer.\n */\nfunction globalTracer() {\n    // Return the delegate.  Since the global tracer is largely a convenience\n    // (the user can always create their own tracers), the delegate is used to\n    // give the added convenience of not needing to worry about initialization\n    // order.\n    return globalTracerDelegate;\n}\nexports.globalTracer = globalTracer;\n//# sourceMappingURL=global_tracer.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binary_carrier_1 = require(\"./binary_carrier\");\nexports.BinaryCarrier = binary_carrier_1.default;\nvar Tags = require(\"./ext/tags\");\nexports.Tags = Tags;\nvar Noop = require(\"./noop\");\nvar reference_1 = require(\"./reference\");\nexports.Reference = reference_1.default;\nvar span_1 = require(\"./span\");\nexports.Span = span_1.default;\nvar span_context_1 = require(\"./span_context\");\nexports.SpanContext = span_context_1.default;\nvar tracer_1 = require(\"./tracer\");\nexports.Tracer = tracer_1.Tracer;\nvar mock_tracer_1 = require(\"./mock_tracer\");\nexports.MockTracer = mock_tracer_1.MockTracer;\n__export(require(\"./global_tracer\"));\n__export(require(\"./constants\"));\n__export(require(\"./functions\"));\n// Initialize the noops last to avoid a dependecy cycle between the classes.\nNoop.initialize();\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar mock_context_1 = require(\"./mock_context\");\nexports.MockContext = mock_context_1.default;\nvar mock_span_1 = require(\"./mock_span\");\nexports.MockSpan = mock_span_1.default;\nvar mock_tracer_1 = require(\"./mock_tracer\");\nexports.MockTracer = mock_tracer_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar span_context_1 = require(\"../span_context\");\n/**\n * OpenTracing Context implementation designed for use in\n * unit tests.\n */\nvar MockContext = /** @class */ (function (_super) {\n    __extends(MockContext, _super);\n    function MockContext(span) {\n        var _this = _super.call(this) || this;\n        // Store a reference to the span itself since this is a mock tracer\n        // intended to make debugging and unit testing easier.\n        _this._span = span;\n        return _this;\n    }\n    MockContext.prototype.span = function () {\n        return this._span;\n    };\n    return MockContext;\n}(span_context_1.SpanContext));\nexports.MockContext = MockContext;\nexports.default = MockContext;\n//# sourceMappingURL=mock_context.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Index a collection of reported MockSpans in a way that's easy to run unit\n * test assertions against.\n */\nvar MockReport = /** @class */ (function () {\n    function MockReport(spans) {\n        var _this = this;\n        this.spans = spans;\n        this.spansByUUID = {};\n        this.spansByTag = {};\n        this.debugSpans = [];\n        this.unfinishedSpans = [];\n        spans.forEach(function (span) {\n            if (span._finishMs === 0) {\n                _this.unfinishedSpans.push(span);\n            }\n            _this.spansByUUID[span.uuid()] = span;\n            _this.debugSpans.push(span.debug());\n            var tags = span.tags();\n            Object.keys(tags).forEach(function (key) {\n                var val = tags[key];\n                _this.spansByTag[key] = _this.spansByTag[key] || {};\n                _this.spansByTag[key][val] = _this.spansByTag[key][val] || [];\n                _this.spansByTag[key][val].push(span);\n            });\n        });\n    }\n    MockReport.prototype.firstSpanWithTagValue = function (key, val) {\n        var m = this.spansByTag[key];\n        if (!m) {\n            return null;\n        }\n        var n = m[val];\n        if (!n) {\n            return null;\n        }\n        return n[0];\n    };\n    return MockReport;\n}());\nexports.MockReport = MockReport;\nexports.default = MockReport;\n//# sourceMappingURL=mock_report.js.map","\"use strict\";\n/* eslint-disable import/no-extraneous-dependencies */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar opentracing = require(\"../index\");\nvar mock_context_1 = require(\"./mock_context\");\n/**\n * OpenTracing Span implementation designed for use in unit tests.\n */\nvar MockSpan = /** @class */ (function (_super) {\n    __extends(MockSpan, _super);\n    //------------------------------------------------------------------------//\n    // MockSpan-specific\n    //------------------------------------------------------------------------//\n    function MockSpan(tracer) {\n        var _this = _super.call(this) || this;\n        _this._mockTracer = tracer;\n        _this._uuid = _this._generateUUID();\n        _this._startMs = Date.now();\n        _this._finishMs = 0;\n        _this._operationName = '';\n        _this._tags = {};\n        _this._logs = [];\n        return _this;\n    }\n    //------------------------------------------------------------------------//\n    // OpenTracing implementation\n    //------------------------------------------------------------------------//\n    MockSpan.prototype._context = function () {\n        return new mock_context_1.default(this);\n    };\n    MockSpan.prototype._setOperationName = function (name) {\n        this._operationName = name;\n    };\n    MockSpan.prototype._addTags = function (set) {\n        var keys = Object.keys(set);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            this._tags[key] = set[key];\n        }\n    };\n    MockSpan.prototype._log = function (fields, timestamp) {\n        this._logs.push({\n            fields: fields,\n            timestamp: timestamp\n        });\n    };\n    MockSpan.prototype._finish = function (finishTime) {\n        this._finishMs = finishTime || Date.now();\n    };\n    MockSpan.prototype.uuid = function () {\n        return this._uuid;\n    };\n    MockSpan.prototype.operationName = function () {\n        return this._operationName;\n    };\n    MockSpan.prototype.durationMs = function () {\n        return this._finishMs - this._startMs;\n    };\n    MockSpan.prototype.tags = function () {\n        return this._tags;\n    };\n    MockSpan.prototype.tracer = function () {\n        return this._mockTracer;\n    };\n    MockSpan.prototype._generateUUID = function () {\n        var p0 = (\"00000000\" + Math.abs((Math.random() * 0xFFFFFFFF) | 0).toString(16)).substr(-8);\n        var p1 = (\"00000000\" + Math.abs((Math.random() * 0xFFFFFFFF) | 0).toString(16)).substr(-8);\n        return \"\" + p0 + p1;\n    };\n    MockSpan.prototype.addReference = function (ref) {\n    };\n    /**\n     * Returns a simplified object better for console.log()'ing.\n     */\n    MockSpan.prototype.debug = function () {\n        var obj = {\n            uuid: this._uuid,\n            operation: this._operationName,\n            millis: [this._finishMs - this._startMs, this._startMs, this._finishMs]\n        };\n        if (Object.keys(this._tags).length) {\n            obj.tags = this._tags;\n        }\n        return obj;\n    };\n    return MockSpan;\n}(opentracing.Span));\nexports.MockSpan = MockSpan;\nexports.default = MockSpan;\n//# sourceMappingURL=mock_span.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// TODO: Move mock-tracer to its own NPM package once it is complete and tested.\nvar opentracing = require(\"../index\");\nvar mock_report_1 = require(\"./mock_report\");\nvar mock_span_1 = require(\"./mock_span\");\n/**\n * OpenTracing Tracer implementation designed for use in unit tests.\n */\nvar MockTracer = /** @class */ (function (_super) {\n    __extends(MockTracer, _super);\n    //------------------------------------------------------------------------//\n    // MockTracer-specific\n    //------------------------------------------------------------------------//\n    function MockTracer() {\n        var _this = _super.call(this) || this;\n        _this._spans = [];\n        return _this;\n    }\n    //------------------------------------------------------------------------//\n    // OpenTracing implementation\n    //------------------------------------------------------------------------//\n    MockTracer.prototype._startSpan = function (name, fields) {\n        // _allocSpan is given it's own method so that derived classes can\n        // allocate any type of object they want, but not have to duplicate\n        // the other common logic in startSpan().\n        var span = this._allocSpan();\n        span.setOperationName(name);\n        this._spans.push(span);\n        if (fields.references) {\n            for (var _i = 0, _a = fields.references; _i < _a.length; _i++) {\n                var ref = _a[_i];\n                span.addReference(ref);\n            }\n        }\n        // Capture the stack at the time the span started\n        span._startStack = new Error().stack;\n        return span;\n    };\n    MockTracer.prototype._inject = function (span, format, carrier) {\n        throw new Error('NOT YET IMPLEMENTED');\n    };\n    MockTracer.prototype._extract = function (format, carrier) {\n        throw new Error('NOT YET IMPLEMENTED');\n    };\n    MockTracer.prototype._allocSpan = function () {\n        return new mock_span_1.default(this);\n    };\n    /**\n     * Discard any buffered data.\n     */\n    MockTracer.prototype.clear = function () {\n        this._spans = [];\n    };\n    /**\n     * Return the buffered data in a format convenient for making unit test\n     * assertions.\n     */\n    MockTracer.prototype.report = function () {\n        return new mock_report_1.default(this._spans);\n    };\n    return MockTracer;\n}(opentracing.Tracer));\nexports.MockTracer = MockTracer;\nexports.default = MockTracer;\n//# sourceMappingURL=mock_tracer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar span_1 = require(\"./span\");\nvar span_context_1 = require(\"./span_context\");\nvar tracer_1 = require(\"./tracer\");\nexports.tracer = null;\nexports.spanContext = null;\nexports.span = null;\n// Deferred initialization to avoid a dependency cycle where Tracer depends on\n// Span which depends on the noop tracer.\nfunction initialize() {\n    exports.tracer = new tracer_1.default();\n    exports.span = new span_1.default();\n    exports.spanContext = new span_context_1.default();\n}\nexports.initialize = initialize;\n//# sourceMappingURL=noop.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar span_1 = require(\"./span\");\n/**\n * Reference pairs a reference type constant (e.g., REFERENCE_CHILD_OF or\n * REFERENCE_FOLLOWS_FROM) with the SpanContext it points to.\n *\n * See the exported childOf() and followsFrom() functions at the package level.\n */\nvar Reference = /** @class */ (function () {\n    /**\n     * Initialize a new Reference instance.\n     *\n     * @param {string} type - the Reference type constant (e.g.,\n     *        REFERENCE_CHILD_OF or REFERENCE_FOLLOWS_FROM).\n     * @param {SpanContext} referencedContext - the SpanContext being referred\n     *        to. As a convenience, a Span instance may be passed in instead\n     *        (in which case its .context() is used here).\n     */\n    function Reference(type, referencedContext) {\n        this._type = type;\n        this._referencedContext = (referencedContext instanceof span_1.default ?\n            referencedContext.context() :\n            referencedContext);\n    }\n    /**\n     * @return {string} The Reference type (e.g., REFERENCE_CHILD_OF or\n     *         REFERENCE_FOLLOWS_FROM).\n     */\n    Reference.prototype.type = function () {\n        return this._type;\n    };\n    /**\n     * @return {SpanContext} The SpanContext being referred to (e.g., the\n     *         parent in a REFERENCE_CHILD_OF Reference).\n     */\n    Reference.prototype.referencedContext = function () {\n        return this._referencedContext;\n    };\n    return Reference;\n}());\nexports.default = Reference;\n//# sourceMappingURL=reference.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar noop = require(\"./noop\");\n/**\n * Span represents a logical unit of work as part of a broader Trace. Examples\n * of span might include remote procedure calls or a in-process function calls\n * to sub-components. A Trace has a single, top-level \"root\" Span that in turn\n * may have zero or more child Spans, which in turn may have children.\n */\nvar Span = /** @class */ (function () {\n    function Span() {\n    }\n    // ---------------------------------------------------------------------- //\n    // OpenTracing API methods\n    // ---------------------------------------------------------------------- //\n    /**\n     * Returns the SpanContext object associated with this Span.\n     *\n     * @return {SpanContext}\n     */\n    Span.prototype.context = function () {\n        return this._context();\n    };\n    /**\n     * Returns the Tracer object used to create this Span.\n     *\n     * @return {Tracer}\n     */\n    Span.prototype.tracer = function () {\n        return this._tracer();\n    };\n    /**\n     * Sets the string name for the logical operation this span represents.\n     *\n     * @param {string} name\n     */\n    Span.prototype.setOperationName = function (name) {\n        this._setOperationName(name);\n        return this;\n    };\n    /**\n     * Sets a key:value pair on this Span that also propagates to future\n     * children of the associated Span.\n     *\n     * setBaggageItem() enables powerful functionality given a full-stack\n     * opentracing integration (e.g., arbitrary application data from a web\n     * client can make it, transparently, all the way into the depths of a\n     * storage system), and with it some powerful costs: use this feature with\n     * care.\n     *\n     * IMPORTANT NOTE #1: setBaggageItem() will only propagate baggage items to\n     * *future* causal descendants of the associated Span.\n     *\n     * IMPORTANT NOTE #2: Use this thoughtfully and with care. Every key and\n     * value is copied into every local *and remote* child of the associated\n     * Span, and that can add up to a lot of network and cpu overhead.\n     *\n     * @param {string} key\n     * @param {string} value\n     */\n    Span.prototype.setBaggageItem = function (key, value) {\n        this._setBaggageItem(key, value);\n        return this;\n    };\n    /**\n     * Returns the value for a baggage item given its key.\n     *\n     * @param  {string} key\n     *         The key for the given trace attribute.\n     * @return {string}\n     *         String value for the given key, or undefined if the key does not\n     *         correspond to a set trace attribute.\n     */\n    Span.prototype.getBaggageItem = function (key) {\n        return this._getBaggageItem(key);\n    };\n    /**\n     * Adds a single tag to the span.  See `addTags()` for details.\n     *\n     * @param {string} key\n     * @param {any} value\n     */\n    Span.prototype.setTag = function (key, value) {\n        var _a;\n        // NOTE: the call is normalized to a call to _addTags()\n        this._addTags((_a = {}, _a[key] = value, _a));\n        return this;\n    };\n    /**\n     * Adds the given key value pairs to the set of span tags.\n     *\n     * Multiple calls to addTags() results in the tags being the superset of\n     * all calls.\n     *\n     * The behavior of setting the same key multiple times on the same span\n     * is undefined.\n     *\n     * The supported type of the values is implementation-dependent.\n     * Implementations are expected to safely handle all types of values but\n     * may choose to ignore unrecognized / unhandle-able values (e.g. objects\n     * with cyclic references, function objects).\n     *\n     * @return {[type]} [description]\n     */\n    Span.prototype.addTags = function (keyValueMap) {\n        this._addTags(keyValueMap);\n        return this;\n    };\n    /**\n     * Add a log record to this Span, optionally at a user-provided timestamp.\n     *\n     * For example:\n     *\n     *     span.log({\n     *         size: rpc.size(),  // numeric value\n     *         URI: rpc.URI(),  // string value\n     *         payload: rpc.payload(),  // Object value\n     *         \"keys can be arbitrary strings\": rpc.foo(),\n     *     });\n     *\n     *     span.log({\n     *         \"error.description\": someError.description(),\n     *     }, someError.timestampMillis());\n     *\n     * @param {object} keyValuePairs\n     *        An object mapping string keys to arbitrary value types. All\n     *        Tracer implementations should support bool, string, and numeric\n     *        value types, and some may also support Object values.\n     * @param {number} timestamp\n     *        An optional parameter specifying the timestamp in milliseconds\n     *        since the Unix epoch. Fractional values are allowed so that\n     *        timestamps with sub-millisecond accuracy can be represented. If\n     *        not specified, the implementation is expected to use its notion\n     *        of the current time of the call.\n     */\n    Span.prototype.log = function (keyValuePairs, timestamp) {\n        this._log(keyValuePairs, timestamp);\n        return this;\n    };\n    /**\n     * DEPRECATED\n     */\n    Span.prototype.logEvent = function (eventName, payload) {\n        return this._log({ event: eventName, payload: payload });\n    };\n    /**\n     * Sets the end timestamp and finalizes Span state.\n     *\n     * With the exception of calls to Span.context() (which are always allowed),\n     * finish() must be the last call made to any span instance, and to do\n     * otherwise leads to undefined behavior.\n     *\n     * @param  {number} finishTime\n     *         Optional finish time in milliseconds as a Unix timestamp. Decimal\n     *         values are supported for timestamps with sub-millisecond accuracy.\n     *         If not specified, the current time (as defined by the\n     *         implementation) will be used.\n     */\n    Span.prototype.finish = function (finishTime) {\n        this._finish(finishTime);\n        // Do not return `this`. The Span generally should not be used after it\n        // is finished so chaining is not desired in this context.\n    };\n    // ---------------------------------------------------------------------- //\n    // Derived classes can choose to implement the below\n    // ---------------------------------------------------------------------- //\n    // By default returns a no-op SpanContext.\n    Span.prototype._context = function () {\n        return noop.spanContext;\n    };\n    // By default returns a no-op tracer.\n    //\n    // The base class could store the tracer that created it, but it does not\n    // in order to ensure the no-op span implementation has zero members,\n    // which allows V8 to aggressively optimize calls to such objects.\n    Span.prototype._tracer = function () {\n        return noop.tracer;\n    };\n    // By default does nothing\n    Span.prototype._setOperationName = function (name) {\n    };\n    // By default does nothing\n    Span.prototype._setBaggageItem = function (key, value) {\n    };\n    // By default does nothing\n    Span.prototype._getBaggageItem = function (key) {\n        return undefined;\n    };\n    // By default does nothing\n    //\n    // NOTE: both setTag() and addTags() map to this function. keyValuePairs\n    // will always be an associative array.\n    Span.prototype._addTags = function (keyValuePairs) {\n    };\n    // By default does nothing\n    Span.prototype._log = function (keyValuePairs, timestamp) {\n    };\n    // By default does nothing\n    //\n    // finishTime is expected to be either a number or undefined.\n    Span.prototype._finish = function (finishTime) {\n    };\n    return Span;\n}());\nexports.Span = Span;\nexports.default = Span;\n//# sourceMappingURL=span.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * SpanContext represents Span state that must propagate to descendant Spans\n * and across process boundaries.\n *\n * SpanContext is logically divided into two pieces: the user-level \"Baggage\"\n * (see setBaggageItem and getBaggageItem) that propagates across Span\n * boundaries and any Tracer-implementation-specific fields that are needed to\n * identify or otherwise contextualize the associated Span instance (e.g., a\n * <trace_id, span_id, sampled> tuple).\n */\nvar SpanContext = /** @class */ (function () {\n    function SpanContext() {\n    }\n    // The SpanContext is entirely implementation dependent\n    /**\n     * Returns a string representation of the implementation internal trace ID.\n     *\n     * @returns {string}\n     */\n    SpanContext.prototype.toTraceId = function () {\n        return '';\n    };\n    /**\n     * Returns a string representation of the implementation internal span ID.\n     *\n     * @returns {string}\n     */\n    SpanContext.prototype.toSpanId = function () {\n        return '';\n    };\n    return SpanContext;\n}());\nexports.SpanContext = SpanContext;\nexports.default = SpanContext;\n//# sourceMappingURL=span_context.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Functions = require(\"./functions\");\nvar Noop = require(\"./noop\");\nvar span_1 = require(\"./span\");\n/**\n * Tracer is the entry-point between the instrumentation API and the tracing\n * implementation.\n *\n * The default object acts as a no-op implementation.\n *\n * Note to implementators: derived classes can choose to directly implement the\n * methods in the \"OpenTracing API methods\" section, or optionally the subset of\n * underscore-prefixed methods to pick up the argument checking and handling\n * automatically from the base class.\n */\nvar Tracer = /** @class */ (function () {\n    function Tracer() {\n    }\n    // ---------------------------------------------------------------------- //\n    // OpenTracing API methods\n    // ---------------------------------------------------------------------- //\n    /**\n     * Starts and returns a new Span representing a logical unit of work.\n     *\n     * For example:\n     *\n     *     // Start a new (parentless) root Span:\n     *     var parent = Tracer.startSpan('DoWork');\n     *\n     *     // Start a new (child) Span:\n     *     var child = Tracer.startSpan('load-from-db', {\n     *         childOf: parent.context(),\n     *     });\n     *\n     *     // Start a new async (FollowsFrom) Span:\n     *     var child = Tracer.startSpan('async-cache-write', {\n     *         references: [\n     *             opentracing.followsFrom(parent.context())\n     *         ],\n     *     });\n     *\n     * @param {string} name - the name of the operation (REQUIRED).\n     * @param {SpanOptions} [options] - options for the newly created span.\n     * @return {Span} - a new Span object.\n     */\n    Tracer.prototype.startSpan = function (name, options) {\n        if (options === void 0) { options = {}; }\n        // Convert options.childOf to fields.references as needed.\n        if (options.childOf) {\n            // Convert from a Span or a SpanContext into a Reference.\n            var childOf = Functions.childOf(options.childOf);\n            if (options.references) {\n                options.references.push(childOf);\n            }\n            else {\n                options.references = [childOf];\n            }\n            delete (options.childOf);\n        }\n        return this._startSpan(name, options);\n    };\n    /**\n     * Injects the given SpanContext instance for cross-process propagation\n     * within `carrier`. The expected type of `carrier` depends on the value of\n     * `format.\n     *\n     * OpenTracing defines a common set of `format` values (see\n     * FORMAT_TEXT_MAP, FORMAT_HTTP_HEADERS, and FORMAT_BINARY), and each has\n     * an expected carrier type.\n     *\n     * Consider this pseudocode example:\n     *\n     *     var clientSpan = ...;\n     *     ...\n     *     // Inject clientSpan into a text carrier.\n     *     var headersCarrier = {};\n     *     Tracer.inject(clientSpan.context(), Tracer.FORMAT_HTTP_HEADERS, headersCarrier);\n     *     // Incorporate the textCarrier into the outbound HTTP request header\n     *     // map.\n     *     Object.assign(outboundHTTPReq.headers, headersCarrier);\n     *     // ... send the httpReq\n     *\n     * @param  {SpanContext} spanContext - the SpanContext to inject into the\n     *         carrier object. As a convenience, a Span instance may be passed\n     *         in instead (in which case its .context() is used for the\n     *         inject()).\n     * @param  {string} format - the format of the carrier.\n     * @param  {any} carrier - see the documentation for the chosen `format`\n     *         for a description of the carrier object.\n     */\n    Tracer.prototype.inject = function (spanContext, format, carrier) {\n        // Allow the user to pass a Span instead of a SpanContext\n        if (spanContext instanceof span_1.default) {\n            spanContext = spanContext.context();\n        }\n        return this._inject(spanContext, format, carrier);\n    };\n    /**\n     * Returns a SpanContext instance extracted from `carrier` in the given\n     * `format`.\n     *\n     * OpenTracing defines a common set of `format` values (see\n     * FORMAT_TEXT_MAP, FORMAT_HTTP_HEADERS, and FORMAT_BINARY), and each has\n     * an expected carrier type.\n     *\n     * Consider this pseudocode example:\n     *\n     *     // Use the inbound HTTP request's headers as a text map carrier.\n     *     var headersCarrier = inboundHTTPReq.headers;\n     *     var wireCtx = Tracer.extract(Tracer.FORMAT_HTTP_HEADERS, headersCarrier);\n     *     var serverSpan = Tracer.startSpan('...', { childOf : wireCtx });\n     *\n     * @param  {string} format - the format of the carrier.\n     * @param  {any} carrier - the type of the carrier object is determined by\n     *         the format.\n     * @return {SpanContext}\n     *         The extracted SpanContext, or null if no such SpanContext could\n     *         be found in `carrier`\n     */\n    Tracer.prototype.extract = function (format, carrier) {\n        return this._extract(format, carrier);\n    };\n    // ---------------------------------------------------------------------- //\n    // Derived classes can choose to implement the below\n    // ---------------------------------------------------------------------- //\n    // NOTE: the input to this method is *always* an associative array. The\n    // public-facing startSpan() method normalizes the arguments so that\n    // all N implementations do not need to worry about variations in the call\n    // signature.\n    //\n    // The default behavior returns a no-op span.\n    Tracer.prototype._startSpan = function (name, fields) {\n        return Noop.span;\n    };\n    // The default behavior is a no-op.\n    Tracer.prototype._inject = function (spanContext, format, carrier) {\n    };\n    // The default behavior is to return a no-op SpanContext.\n    Tracer.prototype._extract = function (format, carrier) {\n        return Noop.spanContext;\n    };\n    return Tracer;\n}());\nexports.Tracer = Tracer;\nexports.default = Tracer;\n//# sourceMappingURL=tracer.js.map"],"names":["Object","e","Array","arguments","t","Date","Math","Error"],"mappings":"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"}