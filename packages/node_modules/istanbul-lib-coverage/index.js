(()=>{"use strict";var t={4967:function(t,e,a){let{FileCoverage:r}=a(5920),{CoverageMap:n}=a(9806),{CoverageSummary:s}=a(572);t.exports={createCoverageSummary:t=>t&&t instanceof s?t:new s(t),createCoverageMap:t=>t&&t instanceof n?t:new n(t),createFileCoverage:t=>t&&t instanceof r?t:new r(t)},t.exports.classes={FileCoverage:r}},9806:function(t,e,a){let{FileCoverage:r}=a(5920),{CoverageSummary:n}=a(572);function s(t,e){return t instanceof e?t:new e(t)}class i{constructor(t){t instanceof i?this.data=t.data:this.data=function(t){let e=Object.create(null);return t&&Object.entries(t).forEach(([t,a])=>{e[t]=s(a,r)}),e}(t)}merge(t){Object.values(s(t,i).data).forEach(t=>{this.addFileCoverage(t)})}filter(t){Object.keys(this.data).forEach(e=>{t(e)||delete this.data[e]})}toJSON(){return this.data}files(){return Object.keys(this.data)}fileCoverageFor(t){let e=this.data[t];if(!e)throw Error(`No file coverage available for: ${t}`);return e}addFileCoverage(t){let e=new r(t),{path:a}=e;this.data[a]?this.data[a].merge(e):this.data[a]=e}getCoverageSummary(){let t=new n;return Object.values(this.data).forEach(e=>{t.merge(e.toSummary())}),t}}t.exports={CoverageMap:i}},572:function(t,e,a){let r=a(1822),n=a(3813);class s{constructor(t){t?t instanceof s?this.data=t.data:this.data=t:this.data=function(){let t=()=>({total:0,covered:0,skipped:0,pct:"Unknown"});return{lines:t(),statements:t(),functions:t(),branches:t(),branchesTrue:t()}}(),function(t){if(!(t&&t.lines&&t.statements&&t.functions&&t.branches))throw Error("Invalid summary coverage object, missing keys, found:"+Object.keys(t).join(","))}(this.data)}merge(t){return["lines","statements","branches","functions","branchesTrue"].forEach(e=>{t[e]&&(this[e].total+=t[e].total,this[e].covered+=t[e].covered,this[e].skipped+=t[e].skipped,this[e].pct=r(this[e].covered,this[e].total))}),this}toJSON(){return this.data}isEmpty(){return 0===this.lines.total}}n(s,["lines","statements","functions","branches","branchesTrue"]),t.exports={CoverageSummary:s}},3813:function(t){t.exports=function(t,e){e.forEach(e=>{Object.defineProperty(t.prototype,e,{enumerable:!0,get(){return this.data[e]}})})}},5920:function(t,e,a){let r=a(1822),n=a(3813),{CoverageSummary:s}=a(572),i=({start:t,end:e})=>`${t.line}|${t.column}|${e.line}|${e.column}`,o=t=>!!t&&"object"==typeof t,l=t=>o(t)&&"number"==typeof t.line&&"number"==typeof t.column,c=t=>o(t)&&l(t.start)&&l(t.end),h=t=>c(t)?t:c(t.loc)?t.loc:null,f=(t,e)=>{let a=h(t);if(!a)return null;let r=null,n=null,s=null;for(let[t,i]of Object.entries(e)){let e=h(i);if(!e)continue;let o=[a.start.line-e.start.line,a.start.column-e.start.column,e.end.line-a.end.line,e.end.column-a.end.column];if(o[0]<0||o[2]<0||0===o[0]&&o[1]<0||0===o[2]&&o[3]<0)continue;if(null===r){n=o,r=i,s=t;continue}let l=o[0]<n[0]||0===o[0]&&o[1]<n[1],c=o[2]<n[2]||0===o[2]&&o[3]<n[3];(l||c)&&(n=o,r=i,s=t)}return s},u=(t,e)=>"number"==typeof t&&"number"==typeof e?t+e:Array.isArray(t)&&Array.isArray(e)?t.map((t,a)=>(t||0)+(e[a]||0)):null,p=(t,e,a,r)=>{let n=f(t,a);return n?u(e,r[n]):e},b=(t,e,a,r,n=i)=>{let s={};for(let[a,r]of Object.entries(t)){let t=e[a];s[n(t)]=[r,t]}let o={};for(let[t,e]of Object.entries(a)){let a=r[t];o[n(a)]=[e,a]}let l={};for(let[t,e]of Object.entries(s)){let n=e[0],s=e[1],i=o[t];n=i?u(n,i[0]):p(s,n,r,a),l[t]=[n,s]}for(let[a,r]of Object.entries(o)){let n=r[0],s=r[1];l[a]||(n=p(s,n,e,t),l[a]=[n,s])}let c={},h={};return Object.values(l).forEach(([t,e],a)=>{c[a]=t,h[a]=e}),[c,h]};class d{constructor(t,e=!1){if(!t)throw Error("Coverage must be initialized with a path or an object");if("string"==typeof t)this.data=function(t,e){let a={path:t,statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{}};return e&&(a.bT={}),a}(t,e);else if(t instanceof d)this.data=t.data;else if("object"==typeof t)this.data=t;else throw Error("Invalid argument to coverage constructor");!function(t){if(!(t&&t.path&&t.statementMap&&t.fnMap&&t.branchMap&&t.s&&t.f&&t.b))throw Error("Invalid file coverage object, missing keys, found:"+Object.keys(t).join(","))}(this.data)}getLineCoverage(){let t=this.data.statementMap,e=this.data.s,a=Object.create(null);return Object.entries(e).forEach(([e,r])=>{if(!t[e])return;let{line:n}=t[e].start,s=a[n];(void 0===s||s<r)&&(a[n]=r)}),a}getUncoveredLines(){let t=this.getLineCoverage(),e=[];return Object.entries(t).forEach(([t,a])=>{0===a&&e.push(t)}),e}getBranchCoverageByLine(){let t=this.branchMap,e=this.b,a={};return Object.entries(t).forEach(([t,r])=>{let n=r.line||r.loc.start.line,s=e[t];a[n]=a[n]||[],a[n].push(...s)}),Object.entries(a).forEach(([t,e])=>{let r=e.filter(t=>t>0),n=r.length/e.length*100;a[t]={covered:r.length,total:e.length,coverage:n}}),a}toJSON(){return this.data}merge(t){if(!0===t.all)return;if(!0===this.all){this.data=t.data;return}let[e,a]=b(this.s,this.statementMap,t.s,t.statementMap);this.data.s=e,this.data.statementMap=a;let r=t=>i(t.locations[0]);[e,a]=b(this.f,this.fnMap,t.f,t.fnMap,t=>i(t.loc)),this.data.f=e,this.data.fnMap=a,[e,a]=b(this.b,this.branchMap,t.b,t.branchMap,r),this.data.b=e,this.data.branchMap=a,this.bT&&t.bT&&([e,a]=b(this.bT,this.branchMap,t.bT,t.branchMap,r),this.data.bT=e)}computeSimpleTotals(t){let e=this[t];"function"==typeof e&&(e=e.call(this));let a={total:Object.keys(e).length,covered:Object.values(e).filter(t=>!!t).length,skipped:0};return a.pct=r(a.covered,a.total),a}computeBranchTotals(t){let e=this[t],a={total:0,covered:0,skipped:0};return Object.values(e).forEach(t=>{a.covered+=t.filter(t=>t>0).length,a.total+=t.length}),a.pct=r(a.covered,a.total),a}resetHits(){let t=this.s,e=this.f,a=this.b,r=this.bT;Object.keys(t).forEach(e=>{t[e]=0}),Object.keys(e).forEach(t=>{e[t]=0}),Object.keys(a).forEach(t=>{a[t].fill(0)}),r&&Object.keys(r).forEach(t=>{r[t].fill(0)})}toSummary(){let t={};return t.lines=this.computeSimpleTotals("getLineCoverage"),t.functions=this.computeSimpleTotals("f","fnMap"),t.statements=this.computeSimpleTotals("s","statementMap"),t.branches=this.computeBranchTotals("b"),this.bT&&(t.branchesTrue=this.computeBranchTotals("bT")),new s(t)}}n(d,["path","statementMap","fnMap","branchMap","s","f","b","bT","all"]),t.exports={FileCoverage:d,findNearestContainer:f,addHits:u,addNearestContainerHits:p}},1822:function(t){t.exports=function(t,e){return e>0?Math.floor(1e5*t/e/10)/100:100}}},e={},a=function a(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,a),s.exports}(4967);module.exports=a})();