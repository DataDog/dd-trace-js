(()=>{var e={"./tlhunter-sorted-set/lib/intersect.js":function(e){e.exports=function(e){let t,n,r,l,i,s,h;if(!e.length)return[];for(i=e.length-1;i>=0;i--){if(!e[i].length)return[];e[i]=e[i]._head.next[0].next}if(1===e.length)return e[0].toArray({field:"key"});if(2===e.length)return function(e,t){let n=Object.create(null),r=[];for(;e;e=e.next[0].next)n[e.key]=!0;for(;t;t=t.next[0].next)n[t.key]&&r.push(t.key);return r}(e[0],e[1]);if(3===e.length)return function(e,t,n){let r=Object.create(null),l=[];for(;e;e=e.next[0].next)r[e.key]=0;for(;t;t=t.next[0].next)0===r[t.key]&&(r[t.key]=1);for(;n;n=n.next[0].next)1===r[n.key]&&l.push(n.key);return l}(e[0],e[1],e[2]);for(r=Object.create(null),n=e.shift();n;n=n.next[0].next)r[n.key]=0;for(i=0,h=e.length-1;i<h;i++){for(l=0,s=i+1,n=e[i];n;n=n.next[0].next)r[n.key]===i&&(r[n.key]=s,l++);if(!l)return[]}for(t=[],n=e[i];n;n=n.next[0].next)r[n.key]===i&&t.push(n.key);return t}},"./tlhunter-sorted-set/lib/set.js":function(e,t,n){"use strict";let r=n("./tlhunter-sorted-set/lib/intersect.js"),l=Array.prototype.slice,i=1/Math.E;class s{constructor(e={}){this._unique=!!e.unique,this.empty()}static intersect(){return r.call(s,l.call(arguments))}add(e,t){let n;if(null==t)return this.rem(e);if(void 0!==(n=this._map.get(e))){if(t===n)return n;this._remove(e,n)}if(!this._insert(e,t))throw void 0===n||this._insert(e,n),Error("unique constraint violated");return this._map.set(e,t),void 0===n?null:n}card(){return this.length?this.length:0}count(e,t){let n;if(!this.length)return 0;if(null==e&&(e=-1/0),null==t&&(t=1/0),e<=this._head.next[0].next.value&&t>=this._tail.value)return this.length;if(t<e||e>this._tail.value||t<this._head.next[0].next.value)return 0;let r=this._first(e),l=0;if(!r)return 0;for(n=r.next.length-1;n>=0;n-=1)for(;r.next[n].next&&r.next[n].next.value<=t;)l+=r.next[n].span,r=r.next[n].next;return l&&l+1}del(e){return this.rem(e)}empty(){this.length=0,this._level=1,this._map=new Map,this._head=new u(32,null,0),this._tail=null;for(let e=0;e<32;e+=1)this._head.next[e]=new h(null,0)}get(e){return this.score(e)}has(e){return this._map.has(e)}incrBy(e,t){let n=this.score(t);return n?(this.add(t,n+e),n+e):(this.add(t,e),e)}intersect(){let e=l.call(arguments);return e.unshift(this),r.call(this,e)}intersectKeys(){let e=l.call(arguments);return e.unshift(this),intersectKeys.call(this,e)}keys(){let e;if(!this.length)return[];let t=Array(this.length),n=this._head.next[0].next;for(e=0;n;n=n.next[0].next)t[e]=n.key,e+=1;return t}range(e,t,n){let r;if(0===this.length||(null==e?e=0:e<0&&(e=Math.max(this.length+e,0)),null==t?t=this.length-1:t<0&&(t=this.length+t),e>t||e>=this.length))return[];t>=this.length&&(t=this.length-1),"object"!=typeof n&&(n={withScores:!1});let l=0,i=t-e+1;try{r=Array(i)}catch(n){throw console.log("start",e),console.log("stop",t),console.log("Invalid length",i),n}let s=e>0?this._get(e):this._head.next[0].next;if(n.withScores)for(;i--;s=s.next[0].next)r[l]=[s.key,s.value],l+=1;else for(;i--;s=s.next[0].next)r[l]=s.key,l+=1;return r}rangeByScore(e,t,n){if(!this.length)return[];if("object"!=typeof n&&(n={withScores:!1}),null==e&&(e=-1/0),null==t&&(t=1/0),e<=this._head.next[0].next.value&&t>=this._tail.value)return this.toArray({withScores:n.withScores});if(t<e||e>this._tail.value||t<this._head.next[0].next.value)return[];let r=this._first(e),l=[];if(n.withScores)for(;r&&r.value<=t;r=r.next[0].next)l.push([r.key,r.value]);else for(;r&&r.value<=t;r=r.next[0].next)l.push(r.key);return l}rank(e){let t,n=this._map.get(e);if(void 0===n)return null;let r=this._head,l=null,i=-1;for(t=this._level-1;t>=0;t-=1){for(;(l=r.next[t].next)&&(l.value<n||l.value===n&&l.key<=e);)i+=r.next[t].span,r=l;if(r.key&&r.key===e)return i}return null}rem(e){let t=this._map.get(e);return void 0!==t?(this._remove(e,t),this._map.delete(e),t):null}remRangeByRank(e,t){let n,r,l=this.length;if(!l||(null==e?e=0:e<0&&(e=Math.max(l+e,0)),null==t?t=l:t<0&&(t=l+t),e>t||e>=l))return 0;if(t>l&&(t=l),0===e&&t===l)return this.empty(),l;let i=this._head,s=Array(32),h=-1;for(n=this._level-1;n>=0;n-=1){for(;(r=i.next[n].next)&&h+i.next[n].span<e;)h+=i.next[n].span,i=r;s[n]=i}let u=0;for(h+=1,i=i.next[0].next;i&&h<t;)r=i.next[0].next,this._removeNode(i,s),this._map.delete(i.key),u+=1,h+=1,i=r;return this.length-=u,u}remRangeByScore(e,t){let n,r,l=0;if(!this.length)return 0;if(null==e&&(e=-1/0),null==t&&(t=1/0),e<=this._head.next[0].next.value&&t>=this._tail.value)return l=this.length,this.empty(),l;let i=this._head,s=Array(32);for(r=this._level-1;r>=0;r-=1){for(;(n=i.next[r].next)&&n.value<e;)i=n;s[r]=i}for(i=i.next[0].next;i&&i.value<=t;)n=i.next[0].next,this._removeNode(i,s),this._map.delete(i.key),l+=1,i=n;return this.length-=l,l}score(e){let t=this._map.get(e);return void 0===t?null:t}set(e,t){return this.add(e,t)}slice(e,t,n){return"number"==typeof t&&0!==t&&(t-=1),this.range(e,t,n)}toArray(e){let t;if(!this.length)return[];"object"!=typeof e&&(e={withScores:!1});let n=Array(this.length),r=this._head.next[0].next;if(e.withScores)for(t=0;r;r=r.next[0].next)n[t]=[r.key,r.value],t+=1;else for(t=0;r;r=r.next[0].next)n[t]=r.key,t+=1;return n}values(){let e;if(!this.length)return[];let t=Array(this.length),n=this._head.next[0].next;for(e=0;n;n=n.next[0].next)t[e]=n.value,e+=1;return t}_first(e){let t=this._tail;if(!t||t.value<e)return null;t=this._head;for(let n=null,r=this._level-1;r>=0;r-=1)for(;(n=t.next[r].next)&&n.value<e;)t=n;return t.next[0].next}_get(e){let t,n=this._head,r=-1;for(t=this._level-1;t>=0;t-=1){for(;n.next[t].next&&r+n.next[t].span<=e;)r+=n.next[t].span,n=n.next[t].next;if(r===e)return n}return null}_insert(e,t){let n,r=Array(32),l=Array(32),s=this._head,a=null;for(n=this._level-1;n>=0;n-=1){for(l[n]=n===this._level-1?0:l[n+1];(a=s.next[n].next)&&a.value<=t;){if(a.value===t){if(this._unique)return null;if(a.key>=e)break}l[n]+=s.next[n].span,s=a}if(this._unique&&s.value===t)return null;r[n]=s}if(this._unique&&s.value===t)return null;let x=function(){let e=1;for(;Math.random()<i;)e+=1;return e<32?e:32}();if(x>this._level){for(n=this._level;n<x;n+=1)l[n]=0,r[n]=this._head,r[n].next[n].span=this.length;this._level=x}for(n=0,s=new u(x,e,t);n<x;n+=1)s.next[n]=new h(r[n].next[n].next,r[n].next[n].span-(l[0]-l[n])),r[n].next[n].next=s,r[n].next[n].span=l[0]-l[n]+1;for(n=x;n<this._level;n+=1)r[n].next[n].span++;return s.prev=r[0]===this._head?null:r[0],s.next[0].next?s.next[0].next.prev=s:this._tail=s,this.length+=1,s}_next(e,t){let n,r;if(!this._tail||this._tail.value<e)return null;for(n=null;(n=t.next[t.next.length-1].next)&&n.value<e;)t=n;if(t.value===e)return t;for(r=t.next.length-1;r>=0;r-=1){for(;(n=t.next[r].next)&&n.value<e;)t=n;if(t.value===e)return t}return t.next[0].next}_remove(e,t){let n,r,l=Array(32),i=this._head;for(n=this._level-1;n>=0;n-=1){for(;(r=i.next[n].next)&&(r.value<t||r.value===t&&r.key<e);)i=r;l[n]=i}if(!(i=i.next[0].next)||t!==i.value||i.key!==e)return!1;this._removeNode(i,l),this.length-=1}_removeNode(e,t){let n=null,r=0,l=this._level;for(;r<l;r+=1)t[r].next[r].next===e?(t[r].next[r].span+=e.next[r].span-1,t[r].next[r].next=e.next[r].next):t[r].next[r].span-=1;for((n=e.next[0].next)?n.prev=e.prev:this._tail=e.prev;this._level>1&&!this._head.next[this._level-1].next;)this._level-=1}}function h(e,t){this.next=e,this.span=t}function u(e,t,n){this.key=t,this.value=n,this.next=Array(e),this.prev=null}e.exports=s}},t={},n=function n(r){var l=t[r];if(void 0!==l)return l.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}("./tlhunter-sorted-set/lib/set.js");module.exports=n})();